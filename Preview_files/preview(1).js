!function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=169)}({0:function(e,t,i){"use strict";var a={datapublicPath:null,dataprivatePath:null,datawebsitePath:null,getWebsitePath:function(e){var t="data"+(e=e||"website")+"Path";if(this[t])return this[t];var i=bmq(".bm-paths-hook");return 0==i.length&&window.top&&window.top.bmq&&(i=window.top.bmq(".bm-paths-hook")),0==i.length?"":(this[t]="public"==e?i.attr("data-website-path")+"/"+i.attr("data-public-path"):"private"==e?i.attr("data-website-path")+"/"+i.attr("data-private-path"):i.attr("data-website-path"),"/"!=this[t].slice(-1)&&(this[t]+="/"),this[t])},getPublicDir:function(){return bmq(".bm-paths-hook").attr("data-public-path")},getPrivateDir:function(){return bmq(".bm-paths-hook").attr("data-public-path")},getTemplateId:function(){return bmq("[data-ipts-id]").attr("data-ipts-id")},getWebsiteID:function(){return this.websiteID||(this.websiteID=bmq(".bm-paths-hook").attr("data-website-id")),this.websiteID},getUserID:function(){return this.userID||(this.userID=bmq(".bm-paths-hook").attr("data-user-id")),this.userID},getWebsite:function(){return this.website||(this.website=bmq(".bm-paths-hook").attr("data-website")),this.website},getSelectedPageID:function(){return this.pageID||(this.pageID=bmq(".bm-paths-hook").attr("data-page-id")),this.pageID},getTemplateThumbURL:function(){return this.templateThumbURL=bmq(".bm-paths-hook").attr("data-template-thumb"),this.templateThumbURL},getWebsitePreviewImage:function(){return this.getWebsitePath()+"preview.jpg"}};i(5).a.Paths=a,t.a=a},11:function(e,t,i){"use strict";var a=i(0);t.a={splitPathAndFilename:function(e){var t=(e=""+e).split("/");return{name:t.pop(),path:t.join("/")}},extractFilename:function(e){var t=(e=""+e).split("/");if(t.length>0){var i=t.pop(),a=i.split(".");if(a.length>1){var n=a.pop();return{name:a.join("."),extension:n}}return{name:i,extension:""}}return{name:e,extension:""}},splitFullyQualifiedURLToParts:function(e){var t=e.replace(a.a.getWebsitePath(),"");return this.splitPathAndFilename(t)},fixURI:function(e){if(e&&"#"==e.substr(0,1))return e;if(""==e||null==e||null==e)return"";if(!/(^\w+:(\/\/)?\w+)|(^\/\/)/i.test(e)){e=/^\:\/\//i.test(e)?"http"+e:"http://"+e}return e},queryStringToDictionary:function(e){"?"==e.substr(0,1)&&(e=e.substr(1));for(var t={},i=e.split("&"),a=0;a<i.length;a++){var n=i[a].split("=");t[n[0]]=n[1]}return t},getExtensionFromUrl:function(e){var t=this.getExtensionFromDataUrl(e);return""==t&&(t=this.getExtensionFromPathUrl(e)),t&&t.match(/\?/gi)?t.split(/\?/gi)[0]:t},getExtensionFromPathUrl:function(e){var t=this.extractFilename(e);return t.extension?t.extension:""},getExtensionFromDataUrl:function(e){var t=/data\:image\/([a-z]+)/gi.exec(e);return t&&t.length&&t.length>1?t[1]:""},isVideoExtension:function(e){var t=this.extractFilename(null==e?"":e),i=t&&t.extension?t.extension.toLowerCase():"";return"mp4"==i||"mov"==i||"wmv"==i},getURLParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}}},12:function(e,t,i){"use strict";var a={"Á":"A","Ă":"A","Ắ":"A","Ặ":"A","Ằ":"A","Ẳ":"A","Ẵ":"A","Ǎ":"A","Â":"A","Ấ":"A","Ậ":"A","Ầ":"A","Ẩ":"A","Ẫ":"A","Ä":"A","Ǟ":"A","Ȧ":"A","Ǡ":"A","Ạ":"A","Ȁ":"A","À":"A","Ả":"A","Ȃ":"A","Ā":"A","Ą":"A","Å":"A","Ǻ":"A","Ḁ":"A","Ⱥ":"A","Ã":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ḃ":"B","Ḅ":"B","Ɓ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ć":"C","Č":"C","Ç":"C","Ḉ":"C","Ĉ":"C","Ċ":"C","Ƈ":"C","Ȼ":"C","Ď":"D","Ḑ":"D","Ḓ":"D","Ḋ":"D","Ḍ":"D","Ɗ":"D","Ḏ":"D","ǲ":"D","ǅ":"D","Đ":"D","Ð":"D","Ƌ":"D","Ǳ":"DZ","Ǆ":"DZ","É":"E","Ĕ":"E","Ě":"E","Ȩ":"E","Ḝ":"E","Ê":"E","Ế":"E","Ệ":"E","Ề":"E","Ể":"E","Ễ":"E","Ḙ":"E","Ë":"E","Ė":"E","Ẹ":"E","Ȅ":"E","È":"E","Ẻ":"E","Ȇ":"E","Ē":"E","Ḗ":"E","Ḕ":"E","Ę":"E","Ɇ":"E","Ẽ":"E","Ḛ":"E","Ꝫ":"ET","Ḟ":"F","Ƒ":"F","Ǵ":"G","Ğ":"G","Ǧ":"G","Ģ":"G","Ĝ":"G","Ġ":"G","Ɠ":"G","Ḡ":"G","Ǥ":"G","Ḫ":"H","Ȟ":"H","Ḩ":"H","Ĥ":"H","Ⱨ":"H","Ḧ":"H","Ḣ":"H","Ḥ":"H","Ħ":"H","Í":"I","Ĭ":"I","Ǐ":"I","Î":"I","Ï":"I","Ḯ":"I","İ":"I","Ị":"I","Ȉ":"I","Ì":"I","Ỉ":"I","Ȋ":"I","Ī":"I","Į":"I","Ɨ":"I","Ĩ":"I","Ḭ":"I","І":"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS","Ĵ":"J","Ɉ":"J","Ḱ":"K","Ǩ":"K","Ķ":"K","Ⱪ":"K","Ꝃ":"K","Ḳ":"K","Ƙ":"K","Ḵ":"K","Ꝁ":"K","Ꝅ":"K","Ĺ":"L","Ƚ":"L","Ľ":"L","Ļ":"L","Ḽ":"L","Ḷ":"L","Ḹ":"L","Ⱡ":"L","Ꝉ":"L","Ḻ":"L","Ŀ":"L","Ɫ":"L","ǈ":"L","Ł":"L","Ǉ":"LJ","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ń":"N","Ň":"N","Ņ":"N","Ṋ":"N","Ṅ":"N","Ṇ":"N","Ǹ":"N","Ɲ":"N","Ṉ":"N","Ƞ":"N","ǋ":"N","Ñ":"N","Ǌ":"NJ","Ó":"O","Ŏ":"O","Ǒ":"O","Ô":"O","Ố":"O","Ộ":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ö":"O","Ȫ":"O","Ȯ":"O","Ȱ":"O","Ọ":"O","Ő":"O","Ȍ":"O","Ò":"O","Ỏ":"O","Ơ":"O","Ớ":"O","Ợ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ȏ":"O","Ꝋ":"O","Ꝍ":"O","Ō":"O","Ṓ":"O","Ṑ":"O","Ɵ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Õ":"O","Ṍ":"O","Ṏ":"O","Ȭ":"O","Ƣ":"OI","Ꝏ":"OO","Ɛ":"E","Ɔ":"O","Ȣ":"OU","Ṕ":"P","Ṗ":"P","Ꝓ":"P","Ƥ":"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q","Ŕ":"R","Ř":"R","Ŗ":"R","Ṙ":"R","Ṛ":"R","Ṝ":"R","Ȑ":"R","Ȓ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C","Ǝ":"E","Ś":"S","Ṥ":"S","Š":"S","Ṧ":"S","Ş":"S","Ŝ":"S","Ș":"S","Ṡ":"S","Ṣ":"S","Ṩ":"S","ß":"ss","Ť":"T","Ţ":"T","Ṱ":"T","Ț":"T","Ⱦ":"T","Ṫ":"T","Ṭ":"T","Ƭ":"T","Ṯ":"T","Ʈ":"T","Ŧ":"T","Ɐ":"A","Ꞁ":"L","Ɯ":"M","Ʌ":"V","Ꜩ":"TZ","Ú":"U","Ŭ":"U","Ǔ":"U","Û":"U","Ṷ":"U","Ü":"U","Ǘ":"U","Ǚ":"U","Ǜ":"U","Ǖ":"U","Ṳ":"U","Ụ":"U","Ű":"U","Ȕ":"U","Ù":"U","Ủ":"U","Ư":"U","Ứ":"U","Ự":"U","Ừ":"U","Ử":"U","Ữ":"U","Ȗ":"U","Ū":"U","Ṻ":"U","Ų":"U","Ů":"U","Ũ":"U","Ṹ":"U","Ṵ":"U","Ꝟ":"V","Ṿ":"V","Ʋ":"V","Ṽ":"V","Ꝡ":"VY","Ẃ":"W","Ŵ":"W","Ẅ":"W","Ẇ":"W","Ẉ":"W","Ẁ":"W","Ⱳ":"W","Ẍ":"X","Ẋ":"X","Ý":"Y","Ŷ":"Y","Ÿ":"Y","Ẏ":"Y","Ỵ":"Y","Ỳ":"Y","Ƴ":"Y","Ỷ":"Y","Ỿ":"Y","Ȳ":"Y","Ɏ":"Y","Ỹ":"Y","Ї":"YI","Ź":"Z","Ž":"Z","Ẑ":"Z","Ⱬ":"Z","Ż":"Z","Ẓ":"Z","Ȥ":"Z","Ẕ":"Z","Ƶ":"Z","Þ":"TH","Ĳ":"IJ","Œ":"OE","ᴀ":"A","ᴁ":"AE","ʙ":"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F","ɢ":"G","ʛ":"G","ʜ":"H","ɪ":"I","ʁ":"R","ᴊ":"J","ᴋ":"K","ʟ":"L","ᴌ":"L","ᴍ":"M","ɴ":"N","ᴏ":"O","ɶ":"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P","ʀ":"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W","ʏ":"Y","ᴢ":"Z","á":"a","ă":"a","ắ":"a","ặ":"a","ằ":"a","ẳ":"a","ẵ":"a","ǎ":"a","â":"a","ấ":"a","ậ":"a","ầ":"a","ẩ":"a","ẫ":"a","ä":"a","ǟ":"a","ȧ":"a","ǡ":"a","ạ":"a","ȁ":"a","à":"a","ả":"a","ȃ":"a","ā":"a","ą":"a","ᶏ":"a","ẚ":"a","å":"a","ǻ":"a","ḁ":"a","ⱥ":"a","ã":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ḃ":"b","ḅ":"b","ɓ":"b","ḇ":"b","ᵬ":"b","ᶀ":"b","ƀ":"b","ƃ":"b","ɵ":"o","ć":"c","č":"c","ç":"c","ḉ":"c","ĉ":"c","ɕ":"c","ċ":"c","ƈ":"c","ȼ":"c","ď":"d","ḑ":"d","ḓ":"d","ȡ":"d","ḋ":"d","ḍ":"d","ɗ":"d","ᶑ":"d","ḏ":"d","ᵭ":"d","ᶁ":"d","đ":"d","ɖ":"d","ƌ":"d","ð":"d","ı":"i","ȷ":"j","ɟ":"j","ʄ":"j","ǳ":"dz","ǆ":"dz","é":"e","ĕ":"e","ě":"e","ȩ":"e","ḝ":"e","ê":"e","ế":"e","ệ":"e","ề":"e","ể":"e","ễ":"e","ḙ":"e","ë":"e","ė":"e","ẹ":"e","ȅ":"e","è":"e","ẻ":"e","ȇ":"e","ē":"e","ḗ":"e","ḕ":"e","ⱸ":"e","ę":"e","ᶒ":"e","ɇ":"e","ẽ":"e","ḛ":"e","ꝫ":"et","ḟ":"f","ƒ":"f","ᵮ":"f","ᶂ":"f","ǵ":"g","ğ":"g","ǧ":"g","ģ":"g","ĝ":"g","ġ":"g","ɠ":"g","ḡ":"g","ᶃ":"g","ǥ":"g","ḫ":"h","ȟ":"h","ḩ":"h","ĥ":"h","ⱨ":"h","ḧ":"h","ḣ":"h","ḥ":"h","ɦ":"h","ẖ":"h","ħ":"h","ƕ":"hv","í":"i","ĭ":"i","ǐ":"i","î":"i","ï":"i","ḯ":"i","ị":"i","ȉ":"i","ì":"i","ỉ":"i","ȋ":"i","ī":"i","į":"i","ᶖ":"i","ɨ":"i","ĩ":"i","ḭ":"i","і":"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is","ǰ":"j","ĵ":"j","ʝ":"j","ɉ":"j","ḱ":"k","ǩ":"k","ķ":"k","ⱪ":"k","ꝃ":"k","ḳ":"k","ƙ":"k","ḵ":"k","ᶄ":"k","ꝁ":"k","ꝅ":"k","ĺ":"l","ƚ":"l","ɬ":"l","ľ":"l","ļ":"l","ḽ":"l","ȴ":"l","ḷ":"l","ḹ":"l","ⱡ":"l","ꝉ":"l","ḻ":"l","ŀ":"l","ɫ":"l","ᶅ":"l","ɭ":"l","ł":"l","ǉ":"lj","ſ":"s","ẜ":"s","ẛ":"s","ẝ":"s","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ᵯ":"m","ᶆ":"m","ń":"n","ň":"n","ņ":"n","ṋ":"n","ȵ":"n","ṅ":"n","ṇ":"n","ǹ":"n","ɲ":"n","ṉ":"n","ƞ":"n","ᵰ":"n","ᶇ":"n","ɳ":"n","ñ":"n","ǌ":"nj","ó":"o","ŏ":"o","ǒ":"o","ô":"o","ố":"o","ộ":"o","ồ":"o","ổ":"o","ỗ":"o","ö":"o","ȫ":"o","ȯ":"o","ȱ":"o","ọ":"o","ő":"o","ȍ":"o","ò":"o","ỏ":"o","ơ":"o","ớ":"o","ợ":"o","ờ":"o","ở":"o","ỡ":"o","ȏ":"o","ꝋ":"o","ꝍ":"o","ⱺ":"o","ō":"o","ṓ":"o","ṑ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","õ":"o","ṍ":"o","ṏ":"o","ȭ":"o","ƣ":"oi","ꝏ":"oo","ɛ":"e","ᶓ":"e","ɔ":"o","ᶗ":"o","ȣ":"ou","ṕ":"p","ṗ":"p","ꝓ":"p","ƥ":"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q","ʠ":"q","ɋ":"q","ꝗ":"q","ŕ":"r","ř":"r","ŗ":"r","ṙ":"r","ṛ":"r","ṝ":"r","ȑ":"r","ɾ":"r","ᵳ":"r","ȓ":"r","ṟ":"r","ɼ":"r","ᵲ":"r","ᶉ":"r","ɍ":"r","ɽ":"r","ↄ":"c","ꜿ":"c","ɘ":"e","ɿ":"r","ś":"s","ṥ":"s","š":"s","ṧ":"s","ş":"s","ŝ":"s","ș":"s","ṡ":"s","ṣ":"s","ṩ":"s","ʂ":"s","ᵴ":"s","ᶊ":"s","ȿ":"s","ɡ":"g","ᴑ":"o","ᴓ":"o","ᴝ":"u","ť":"t","ţ":"t","ṱ":"t","ț":"t","ȶ":"t","ẗ":"t","ⱦ":"t","ṫ":"t","ṭ":"t","ƭ":"t","ṯ":"t","ᵵ":"t","ƫ":"t","ʈ":"t","ŧ":"t","ᵺ":"th","ɐ":"a","ᴂ":"ae","ǝ":"e","ᵷ":"g","ɥ":"h","ʮ":"h","ʯ":"h","ᴉ":"i","ʞ":"k","ꞁ":"l","ɯ":"m","ɰ":"m","ᴔ":"oe","ɹ":"r","ɻ":"r","ɺ":"r","ⱹ":"r","ʇ":"t","ʌ":"v","ʍ":"w","ʎ":"y","ꜩ":"tz","ú":"u","ŭ":"u","ǔ":"u","û":"u","ṷ":"u","ü":"u","ǘ":"u","ǚ":"u","ǜ":"u","ǖ":"u","ṳ":"u","ụ":"u","ű":"u","ȕ":"u","ù":"u","ủ":"u","ư":"u","ứ":"u","ự":"u","ừ":"u","ử":"u","ữ":"u","ȗ":"u","ū":"u","ṻ":"u","ų":"u","ᶙ":"u","ů":"u","ũ":"u","ṹ":"u","ṵ":"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v","ṿ":"v","ʋ":"v","ᶌ":"v","ⱱ":"v","ṽ":"v","ꝡ":"vy","ẃ":"w","ŵ":"w","ẅ":"w","ẇ":"w","ẉ":"w","ẁ":"w","ⱳ":"w","ẘ":"w","ẍ":"x","ẋ":"x","ᶍ":"x","ý":"y","ŷ":"y","ÿ":"y","ẏ":"y","ỵ":"y","ỳ":"y","ƴ":"y","ỷ":"y","ỿ":"y","ȳ":"y","ẙ":"y","ɏ":"y","ỹ":"y","ї":"yi","ź":"z","ž":"z","ẑ":"z","ʑ":"z","ⱬ":"z","ż":"z","ẓ":"z","ȥ":"z","ẕ":"z","ᵶ":"z","ᶎ":"z","ʐ":"z","ƶ":"z","ɀ":"z","þ":"th","ﬀ":"ff","ﬃ":"ffi","ﬄ":"ffl","ﬁ":"fi","ﬂ":"fl","ĳ":"ij","œ":"oe","ﬆ":"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x","Ё":"YO","Й":"I","Ц":"C","У":"U","К":"K","Е":"E","Н":"N","Г":"G","Ґ":"G","Ш":"SH","Щ":"SCH","З":"Z","Х":"H","Ъ":"'","ё":"yo","й":"i","ц":"c","у":"u","к":"k","е":"e","н":"n","г":"g","ґ":"g","ш":"sh","щ":"sch","з":"z","х":"h","ъ":"'","Ф":"F","Ы":"I","В":"V","А":"a","П":"P","Р":"R","О":"O","Л":"L","Д":"D","Ж":"ZH","Э":"E","ф":"f","ы":"i","в":"v","а":"a","п":"p","р":"r","о":"o","л":"l","д":"d","ж":"zh","э":"e","Я":"Ya","Ч":"CH","С":"S","М":"M","И":"I","Т":"T","Ь":"'","Б":"B","Ю":"YU","я":"ya","ч":"ch","с":"s","м":"m","и":"i","т":"t","ь":"'","б":"b","ю":"yu"};var n=function(e){return"string"==typeof e?e.replace(/[^A-Za-z0-9]/g,(function(e){return a[e]||e})):e};t.a={latinize:n,getRandom:function(){return this.getRandomString(12)},getRandomString:function(e){for(var t="",i=0;i<e;i++)t+="0123456789ABCDEFGHJKLMNPQRSTUVWXYZ_abcdefghijkmnopqrstuvwxyz".substr(Math.floor(60*Math.random()),1);return t},b64EncodeUnicode:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))},escapeHtml:function(e){return e&&e.replace?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"\\'"):e},fixFileName:function(e){return e.replace(/ {2,}/g," ")}}},14:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var a=i(5);function n(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=i||{},this.parent=i.parent||bmq("body"),this.hideOnLoad=!!i.hideOnLoad,this.onPopupHide=i.onPopupHide||null,this.hasOverlay=!(null!=i.hasOverlay&&null!=i.hasOverlay&&!i.hasOverlay),this.overflow=i.overflow||"auto",this.disabledOverlayClick=!1,this.closesOnOverlay=!!i.closesOnOverlay,this.hidesOnOverlay=!1!==i.hidesOnOverlay,t=bmq(t),this.buildOverlay(),this.buildWrapper(),this.setContent(t),i.width&&this.wrapper.css("width",i.width),i.closesByDefault?this.wrapper.find("> .bm-popup-close").click(this.close.bind(this)):this.wrapper.find("> .bm-popup-close").click(this.hide.bind(this)),i.contextualClass&&this.wrapper.addClass(i.contextualClass),i.overlayContextualClass&&this.overlay.addClass(i.overlayContextualClass),i.noPadding&&this.wrapper.addClass("bm-popup-no-padding p-0"),i.height&&this.wrapper.css("height",i.height),this.hideOnLoad&&this.hide(),i.hideCloseButton&&this.hideCloseButton(),i.closesOnBtnClick)&&this.wrapper.find(".bm-upgrade-lang-btn").click(this.close.bind(this));return i.inheritHeight&&(this.tube.css("height","100%"),this.tube.css("overflow","hidden")),this.overlay.on("click",this.onOverlayClick.bind(this)),this.open(),this}var t,i,a;return t=e,(i=[{key:"disabledOverlay",value:function(){this.disabledOverlayClick=!0}},{key:"enableOverlay",value:function(){this.disabledOverlayClick=!1}},{key:"hideCloseButton",value:function(){this.wrapper.find("> .bm-popup-close").hide()}},{key:"showCloseButton",value:function(){this.wrapper.find("> .bm-popup-close").show()}},{key:"show",value:function(){this.hasOverlay&&this.overlay.show(),this.wrapper.show()}},{key:"hide",value:function(){this.hasOverlay&&this.overlay.hide(),this.wrapper.hide(),this.onPopupHide&&this.onPopupHide()}},{key:"open",value:function(){this.hasOverlay&&this.parent.append(this.overlay),this.parent.append(this.wrapper)}},{key:"close",value:function(){this.hasOverlay&&this.overlay.remove(),this.wrapper.remove(),this.onPopupHide&&this.onPopupHide()}},{key:"onOverlayClick",value:function(e){this.disabledOverlayClick||(this.closesOnOverlay&&this.close(),this.hidesOnOverlay&&this.hide())}},{key:"setContent",value:function(e){this.content=e,this.tube.empty(),this.tube.append(e)}},{key:"buildOverlay",value:function(){this.overlay=bmq('<div class="bm-popup-overlay"></div>')}},{key:"buildWrapper",value:function(){this.wrapper=bmq('<div class="bm-popup-wrapper"><div class="bm-popup-close"><a href="javascript:;"></a></div><div class="bm-popup-tube"></div></div>'),this.tube=this.wrapper.find(".bm-popup-tube"),this.tube.css("overflow",this.overflow)}},{key:"wrapperPreventScroll",value:function(e){}}])&&n(t.prototype,i),a&&n(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();a.a.Popup=o},15:function(e,t,i){"use strict";t.a=function(e){e.getShared=function(){return this.shared||(this.shared=new(this.bind.apply(this,arguments))),this.shared}}},16:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var a=i(31),n=i(15),o=i(5),s=i(12);function r(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.windows={},this.wl=Object(a.a)()}var t,i,n;return t=e,(i=[{key:"showRoute",value:function(e,t,i,a){this.openPath(jsroute.route(e,t),i,a)}},{key:"openPath",value:function(e,t,i){this.closeChildWindow(),t=t||{};var a={};s.a.getRandom(),a.clear=!0,a.additionalData=t;var n=bmq.param(a);this.latestData=i,window.location.href=e+"?"+n}},{key:"setLogo",value:function(e){this.logoElement&&(this.logoElement.css("background-image",'url("'+e+'")'),this.logoElement.css("background-size","auto 40px"))}},{key:"setAILogo",value:function(){this.logoElement&&this.logoElement.addClass("wl")}},{key:"openURL",value:function(e){var t=bmq('<div class="bm-pp-background"></div>'),i=bmq('<iframe class="bm-pp-iframe"></iframe>'),a=bmq('<div class="bm-pp-close"><span>Close</span></div>');return a.on("click",this.closeChildWindow.bind(this)),t.append(a),t.append(i),i.attr("src",e),this.logoElement=t,this.wl||t.addClass("bookmark"),bmq("body").append(t),bmq("body").css("overflow","hidden"),t}},{key:"getChildWindowData",value:function(){return!!this.latestData&&this.latestData}},{key:"showPackage",value:function(e){this.showRoute("wizard.ajax.plan.select_plan",{},{templateID:this.getTemplateID(),plan:e.plan,forPlan:e.forPlan,planID:e.planID,connectTo:e.connectTo,type:e.type,disabled:e.disabled,disabledSpecific:e.disabledSpecific,clientID:e.clientID,websiteID:e.websiteID,csc:e.csc},e)}},{key:"showDomain",value:function(e){this.showRoute("wizard.ajax.create_website.select_domain",{},{templateID:this.getTemplateID(),websiteID:e.websiteID,unlinkedDomain:e.unlinkedDomain},e)}},{key:"showRenewDomain",value:function(e,t){this.showRoute("wizard.ajax.domain.renew_domain",{},e,t)}},{key:"showBuyDomain",value:function(e){this.showRoute("wizard.ajax.domain.buy_domain",{},{domain:e.domain},e)}},{key:"showEmail",value:function(e){this.callback=e.callback,this.showRoute("popup.ajax.email.select_email",{},{templateID:this.getTemplateID(),websiteID:e.websiteID},e)}},{key:"getTemplateID",value:function(){return window.location.toString().split("/").pop()}},{key:"closeChildWindow",value:function(){this.rootElement&&(this.rootElement.remove(),this.rootElement=null,$("body").css("overflow","auto"))}}])&&r(t.prototype,i),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Object(n.a)(l),l.open=function(e,t,i){this.getShared().openPath(jsroute.route(e),t,i)},o.a.Purchasing=l},169:function(e,t,i){e.exports=i(201)},18:function(e,t,i){"use strict";t.a={CREATE_WEBSITE:"wizard.ajax.website.select_domain",CHANGE_DOMAIN:"wizard.ajax.change_domain.select_domain",CHANGE_SUBDOMAIN:"wizard.ajax.change_subdomain.select",LINK_DOMAIN:"wizard.ajax.link_domain",BUY_DOMAIN:"wizard.ajax.domain.buy_domain",REDEEM_DOMAIN_VOUCHER:"wizard.ajax.change_domain.select_domain",SELECT_WEBSITE_EMAIL:"wizard.ajax.email.website.select",SELECT_EMAIL:"wizard.ajax.email.select",CONGRATS_DOMAIN:"wizard.ajax.domain.congrats_domain",BUY_LANGUAGE:"wizard.ajax.language.buy_language"}},2:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"e",(function(){return l})),i.d(t,"c",(function(){return u})),i.d(t,"d",(function(){return c}));var a=i(5);function n(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o={dialogs:[],pushDialog:function(e){0==this.dialogs.length&&bmq("body").on("keyup.dialogManager",this.onKeyUp.bind(this)),this.dialogs.push(e)},popDialog:function(e){var t=this.dialogs.indexOf(e);t>-1&&(this.dialogs.splice(t,1),0==this.dialogs.length&&bmq("body").off("keyup.dialogManager"))},onKeyUp:function(e){27!=e.keyCode&&13!=e.keyCode||this.dialogs[this.dialogs.length-1].managerDismiss(13==e.keyCode)}},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.parent=t.parent||bmq("body"),this.hasOverlay=!!t.hasOverlay,this.closeOnOverlay=0!=t.closesOnOverlay,this.contextualClass=t.contextualClass||null,this.closeOnDismiss=0!=t.closeOnDismiss,this.zIndex=t.zIndex||1005,this.onShow=t.onShow||null,this.onHide=t.onHide||null,this.onManagerDismiss=t.onManagerDismiss||null,this.buildLayout()}var t,i,a;return t=e,(i=[{key:"open",value:function(e,t){t=0!=t,this.calculatePosition(),(e=bmq(e)).length>0&&(e.find(".bm-dialog-do-close").on("click",this.dismiss.bind(this)),this.holder.append(e)),this.hasOverlay&&!this.overlay.parent().is(this.parent)&&this.parent.append(this.overlay),this.holder.parent().is(this.parent)||this.parent.append(this.tube),this._show(t)}},{key:"hide",value:function(e){this._hide(e)}},{key:"close",value:function(e){this._hide(e,this._afterClose.bind(this))}},{key:"dismiss",value:function(e){return this.closeOnDismiss?this.close(e):this.hide(e)}},{key:"managerDismiss",value:function(e){this.onManagerDismiss&&this.onManagerDismiss(e),this.dismiss()}},{key:"_afterClose",value:function(){this.tube.remove(),this.hasOverlay&&this.overlay.remove()}},{key:"_show",value:function(e,t){this.onShow&&this.onShow(),o.pushDialog(this),(e=0!=e)?(this.holder.css({transform:"translate(-50%,-100%)"}),this.tube.show(),this.holder.transition({y:0},t),this.hasOverlay&&this.overlay.fadeIn(300)):(this.tube.show(),this.holder.css({transform:"translate(-50%,0)"}),this.hasOverlay&&this.overlay.show(),t())}},{key:"_hide",value:function(e,t){this.onHide&&this.onHide(),o.popDialog(this),(e=0!=e)?(this.holder.transition({y:"-100%"},t),this.hasOverlay&&this.overlay.fadeOut(300,function(){this.tube.hide()}.bind(this))):(this.holder.hide(),this.hasOverlay&&this.overlay.hide(),t())}},{key:"calculatePosition",value:function(){this.parent.is("body")&&(this.tube.addClass("bm-dialog-overlay-fixed"),this.hasOverlay&&this.overlay.addClass("bm-dialog-overlay-fixed"))}},{key:"buildLayout",value:function(){var e=bmq('<div class="bm-dialog-tube"></div>'),t=bmq('<div class="bm-dialog-wrapper"></div>');1005!=!this.zIndex&&e.css("z-index",this.zIndex+1),this.contextualClass&&t.addClass(this.contextualClass),this.tube=e,this.holder=t,e.append(t),e.hide(),this.hasOverlay&&this.buildOverlay()}},{key:"buildOverlay",value:function(){var e=bmq('<div class="bm-dialog-overlay"></div>');1005!=!this.zIndex&&e.css("z-index",this.zIndex),this.overlay=e,e.hide()}}])&&n(t.prototype,i),a&&n(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function r(e,t){t=t||{};var i=bmq('<div class="bm-dialog-text"></div>');t.html?i.html(t.html):i.text(e);var a=bmq('<div class="bm-dialog-buttons"></div>'),n=bmq('<button class="btn btn-default"></button>');n.text(t.buttonText||"OK"),a.append(n);var o=bmq('<div class="bm-dialog-content-wrap"></div>');o.append(i),o.append(a),null!=t.hasOverlay&&null!=t.hasOverlay||(t.hasOverlay=!0);var r=new s(t);return n.click(r.close.bind(r,!0)),r.open(o),r}function l(e,t,i,a){a=a||{};var n=bmq('<div class="bm-dialog-text"></div>');n.text(e);var o=bmq('<div class="bm-dialog-inputWrap"></div>'),r=bmq('<input class="bm-dialog-input form-control" name="" type="text" />');r.attr("placeholder",a.placeholder||""),r.val(t),o.append(r),a.isPassword&&r.attr("type","password");var l=bmq('<div class="bm-dialog-buttons"></div>'),u=bmq('<button class="btn btn-default btn-dialog-first"></button>');u.text(a.buttonText||"OK"),l.append(u);var c=bmq("<span> </span>");l.append(c);var d=bmq('<button class="btn btn-default btn-dialog-second"></button>');d.text(a.buttonText||"Cancel"),l.append(d);var h=bmq('<div class="bm-dialog-content-wrap"></div>');h.append(n),h.append(o),h.append(l),null!=a.hasOverlay&&null!=a.hasOverlay||(a.hasOverlay=!0),a.onManagerDismiss=function(e,t,i){e&&e(i?t.val():null)}.bind(this,i,r);var p=new s(a),b=function(e,t,i,a){t.dismiss(),a&&a(e?i.val():null)};setTimeout(r.focus.bind(r),300),u.click(b.bind(this,!0,p,r,i)),d.click(b.bind(this,!1,p,r,i)),p.open(h)}function u(e,t,i){i=i||{};var a=bmq('<div class="bm-dialog-text"></div>');i.html?a.html(i.html):a.text(e);var n=bmq('<div class="bm-dialog-buttons"></div>'),o=bmq('<button class="btn btn-default btn-dialog-first"></button>');o.text(i.buttonText||"OK"),n.append(o);var r=bmq("<span> </span>");n.append(r);var l=bmq('<button class="btn btn-default btn-dialog-second"></button>');l.text(i.button2Text||"Cancel"),n.append(l);var u=[];if(i.additionalButtons&&i.additionalButtons.length>0)for(var c=0;c<i.additionalButtons.length;c++){r=bmq("<span> </span>");n.append(r),u[c]=bmq('<button class="btn btn-default btn-dialog-'+c+'"></button>'),u[c].text(i.additionalButtons[c]),n.append(u[c])}var d=bmq('<div class="bm-dialog-content-wrap"></div>');d.append(a),d.append(n),null!=i.hasOverlay&&null!=i.hasOverlay||(i.hasOverlay=!0),i.onManagerDismiss=function(e,t){e&&e(t)}.bind(this,t);var h=new s(i),p=function(e,t,i){i?!1!==i(e,t)&&t.dismiss():t.dismiss()};o.click(p.bind(this,!0,h,t)),l.click(p.bind(this,!1,h,t));for(c=0;c<u.length;c++)u[c].click(p.bind(this,c,h,t));h.open(d)}function c(e,t,i){(i=i||{}).inputPlaceholder="Ex: Bookmark",i.input2Placeholder="Ex: http://www.bookmark.com","undefined"!=typeof BMWL&&(i.inputPlaceholder="Ex: WebsiteBuilder",i.input2Placeholder="Ex: http://www.websitebuilder.ai");var a=bmq('<div class="bm-dialog-info"><img src="/assets/images/light-bulb.png" /> Your external link will appear in your Menu</div><div class="bm-dialog-text">Please choose a name and link for your external link</div>'),n=bmq('<div class="bm-dialog-inputWrap"></div>'),o=bmq('<input class="bm-dialog-input form-control" name="name" type="text" />'),r=bmq("<label>Title:</label>");o.attr("placeholder",i.inputPlaceholder),o.val(e.name),n.append(r).append(o);var l=bmq('<div class="bm-dialog-inputWrap"></div>'),u=bmq('<input class="bm-dialog-input form-control" name="link" type="text" />'),c=bmq("<label>Link:</label>");u.attr("placeholder",i.input2Placeholder),u.val(e.link),l.append(c).append(u);var d=bmq(".bm-builder-area").attr("data-website-lang"),h=bmq(".bm-builder-area").attr("data-website-native-lang"),p=bmq('<div class="bm-dialog-inputWrap" style="margin-top:14px;"></div>'),b=bmq('<input class="" name="isBlank" type="checkbox" />'),m=bmq("<label></label>"),f=bmq("<span> Open in new tab</span>");m.append(b).append(f),p.append(m),b.prop("checked",e.isBlank);var g=bmq('<div class="bm-dialog-buttons"></div>'),v=bmq('<button class="btn btn-default btn-dialog-main">OK</button>');g.append(v);var y=bmq("<span> </span>");g.append(y);var w=bmq('<button class="btn btn-default" style="float:right">Cancel</button>');g.append(w);var k=bmq('<div class="bm-dialog-content-wrap"></div>');k.append(a),k.append(n),k.append(l),k.append(p),k.append(g),null!=i.hasOverlay&&null!=i.hasOverlay||(i.hasOverlay=!0);var P={dialog:I,titleElement:o,linkElement:u,blankElement:b,page_lang:d,native_lang:h};i.onManagerDismiss=function(e,t,i){e&&i&&e(P)}.bind(this,t,null);var I=new s(i),x=function(e){I.dismiss(),t&&e&&t(P)};setTimeout(o.focus.bind(o),300),v.click(x.bind(this,!0)),w.click(x.bind(this,!1)),I.open(k)}a.a.alert=r,a.a.confirm=u,a.a.prompt=l,a.a.Dialog=s},201:function(e,t,i){"use strict";i.r(t);var a=i(0),n=i(11),o=i(72),s=i(2),r=i(45),l=i(30);function u(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c={64:{class:"bm-view-desktop",togglers:".bm-desktop"},36:{class:"bm-ipad",togglers:".bm-tablet, .bm-ios"},34:{class:"bm-nexus-tablet",togglers:".bm-tablet, .bm-android"},33:{class:"bm-lumia-tablet",togglers:".bm-tablet, .bm-windows"},20:{class:"bm-iphone",togglers:".bm-mobile, .bm-ios"},18:{class:"bm-nexus",togglers:".bm-mobile, .bm-android"},17:{class:"bm-lumia",togglers:".bm-mobile, .bm-windows"}};new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selected=68,bmq(".bm-device-nav .bm-desktop").click(this.change.bind(this,64,15)),bmq(".bm-device-nav .bm-tablet").click(this.change.bind(this,32,15)),bmq(".bm-device-nav .bm-mobile").click(this.change.bind(this,16,15)),bmq(".bm-system-nav .bm-ios").click(this.change.bind(this,4,240)),bmq(".bm-system-nav .bm-android").click(this.change.bind(this,2,240)),bmq(".bm-system-nav .bm-windows").click(this.change.bind(this,1,240)),bmq(".bm-rotate-view").click(this.rotate.bind(this)),bmq(".bm-prev-publish").click(this.onPublish.bind(this)),this.togglers=bmq(".bm-device-nav li, .bm-system-nav li"),this.element=bmq(".bm-device-holder"),this.platformElement=bmq(".bm-system-nav, .bm-rotate-view"),"#mobile"==window.location.hash&&this.change(16,15),"#tablet"==window.location.hash?this.change(32,15):this.calculateVisibility(),this.search=n.a.queryStringToDictionary(window.location.search),bmq(".bm-redo-popup").find(".bm-redo-popup-new-hook").on("click",this.redoWebsite.bind(this)),bmq(".bm-prev-top-bar .bm-top-back").on("click",this.closePreview.bind(this)),this.checkReguestUpgradeFromMenu()}var t,i,d;return t=e,(i=[{key:"closePreview",value:function(e){return e.preventDefault(),e.stopPropagation(),window.close(),!1}},{key:"checkReguestUpgradeFromMenu",value:function(){bmq(".bm-dsh-request-upgrade").on("click",this.onClickRequestUpgrade.bind(this))}},{key:"onClickRequestUpgrade",value:function(){(new l.a).requestUpgrade(a.a.getWebsiteID(),this.onClickDashboardRequestUpgradeConfirm.bind(this),this.onClickDashboardRequestUpgradeSuccess.bind(this))}},{key:"onClickDashboardRequestUpgradeConfirm",value:function(){}},{key:"onClickDashboardRequestUpgradeSuccess",value:function(e){e?(Global.alert("You have successfully requested upgrade.",{zIndex:6e8}),bmq(".bm-dsh-upgrade").hide(),bmq(".bm-dsh-request-upgrade").hide()):Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"redoWebsite",value:function(){o.a.show(),bmq.ajax(jsroute.route("api.website.ai.reCreateWebsite",{websiteID:a.a.getWebsiteID()}),{type:"POST",dataType:"json",success:this.onRedoWebsiteSuccess.bind(this),error:this.onRedoWebsiteError.bind(this)})}},{key:"onRedoWebsiteSuccess",value:function(e){e.url&&(window.location=e.url)}},{key:"onRedoWebsiteError",value:function(e){o.a.hide(),Object(s.b)("There was an error creating your new website. Please try again.")}},{key:"change",value:function(e,t){this.selected=this.selected&t|e,this.calculateVisibility()}},{key:"calculateVisibility",value:function(){for(var e in this.togglers.removeClass("bm-prev-active"),c)if(this.selected,(240&this.selected)==e||this.selected==e){var t=c[e];this.element.removeClass("bm-view-desktop bm-ipad bm-nexus-tablet bm-lumia-tablet bm-iphone bm-nexus bm-lumia"),this.element.addClass(t.class),this.togglers.filter(t.togglers).addClass("bm-prev-active");break}64&this.selected?this.platformElement.hide():this.platformElement.show()}},{key:"rotate",value:function(){bmq(".bm-device-holder").toggleClass("bm-landscape")}},{key:"onPublish",value:function(){r.a.publishWithPopup()}}])&&u(t.prototype,i),d&&u(t,d),Object.defineProperty(t,"prototype",{writable:!1}),e}())},30:function(e,t,i){"use strict";var a=i(18),n=i(56);function o(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,s;return t=e,(i=[{key:"detachAgent",value:function(e,t,i){Global.confirm(" Are you sure you want to Downgrade Peace of Mind Program ?",this.doDetachAgent.bind(this,e,t,i),{zIndex:6e3})}},{key:"doDetachAgent",value:function(e,t,i,a){a?(t(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.detachAgent",{planID:e}),success:this.onDetachAgentSuccess.bind(this,i),error:this.onDetachAgentError.bind(this,i)})):i(!1)}},{key:"onDetachAgentSuccess",value:function(e){e(!0)}},{key:"onDetachAgentError",value:function(e){e(!1),Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"removePeaceOfMind",value:function(e,t,i){Global.confirm("Are you sure you want to remove Peace Of Mind Program ?",this.doRemovePeaceOfMind.bind(this,e,t,i),{zIndex:6e3})}},{key:"doRemovePeaceOfMind",value:function(e,t,i,a){a?(t(),bmq.ajax({type:"POST",url:jsroute.route("api.website.removePeaceOfMind",{planID:e}),success:this.onRemovePeaceOfMindSuccess.bind(this,i),error:this.onRemovePeaceOfMindError.bind(this,i)})):i(!1)}},{key:"onRemovePeaceOfMindSuccess",value:function(e){e(!0)}},{key:"onRemovePeaceOfMindError",value:function(e){e(!1),Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"cancelBlankPlan",value:function(e,t,i){Global.confirm("Are you sure you want to cancel this plan ?",this.doCancelBlankPlan.bind(this,e,t,i),{zIndex:6e3})}},{key:"doCancelBlankPlan",value:function(e,t,i,a){a?(t(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.cancelBlankPlan",{planID:e}),success:this.onCancelBlankPlanSuccess.bind(this,i),error:this.onCancelBlankPlanError.bind(this,i)})):bmq("select[plan-id="+e+"]").prop("selectedIndex",0)}},{key:"onCancelBlankPlanSuccess",value:function(e){e(!0)}},{key:"onCancelBlankPlanError",value:function(e){e(!1),Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"deletePlan",value:function(e,t,i){Global.confirm("Are you sure you want to cancel the upgrade request ?",this.doDeletePlan.bind(this,e,t,i),{zIndex:6e3})}},{key:"doDeletePlan",value:function(e,t,i,a){a&&(t(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.deletePlan",{planID:e}),success:this.onDeletePlanSuccess.bind(this,i),error:this.onDeletePlanError.bind(this,i)}))}},{key:"onDeletePlanSuccess",value:function(e){e(!0)}},{key:"onDeletePlanError",value:function(e){e(!1),Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"resumePlan",value:function(e,t,i){Global.confirm("Are you sure you want to resume this plan?",this.doResumePlan.bind(this,e,t,i),{zIndex:6e3})}},{key:"doResumePlan",value:function(e,t,i,a){a&&(t(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.resumePlan",{planID:e}),success:this.onResumePlanSuccess.bind(this,i),error:this.onResumePlanError.bind(this,i)}))}},{key:"onResumePlanSuccess",value:function(e){e(!0)}},{key:"onResumePlanError",value:function(e){e(!1),Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"downgradeWebsite",value:function(e,t,i,a){Global.confirm("",this.doDowngradeWebsite.bind(this,e,t,i,a),{zIndex:6e3,html:"Are you sure you want to Detach URL from this plan? <br><br> Your website will be downgraded to Basic plan and functionalities like domain, email and languages will be removed. However the plan will stay available for to be attached to another website."})}},{key:"doDowngradeWebsite",value:function(e,t,i,a,n){n?(i(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.removePlan",{websiteID:t,planID:e}),success:this.onDowngradeWebsiteSuccess.bind(this,a),error:this.onDowngradeWebsiteError.bind(this,a)})):bmq("select[plan-id="+e+"]").prop("selectedIndex",0)}},{key:"onDowngradeWebsiteSuccess",value:function(e){e(!0)}},{key:"onDowngradeWebsiteError",value:function(e){e(!1),Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"removeResellerPlan",value:function(e,t,i,a){Global.confirm("",this.doremoveResellerPlan.bind(this,e,t,i,a),{zIndex:6e3,html:"Are you sure you want to Detach URL from this plan? <br><br> Your website will be downgraded to Basic plan and functionalities like domain, email and languages will be removed. However the plan will stay available for to be attached to another website."})}},{key:"doremoveResellerPlan",value:function(e,t,i,a,n){n?(i(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.removeResellerPlan",{websiteID:t,planID:e}),success:this.onremoveResellerPlanSuccess.bind(this,a),error:this.onremoveResellerPlanError.bind(this,a)})):bmq("select[plan-id="+e+"]").prop("selectedIndex",0)}},{key:"onremoveResellerPlanSuccess",value:function(e){e(!0)}},{key:"onremoveResellerPlanError",value:function(e){e(!1),Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"changePlan",value:function(e,t,i,a){Global.confirm("",this.doChangePlan.bind(this,e,t,i,a),{zIndex:6e3,html:"Are you sure you want to cancel this plan? <br><br> Your plan will be canceled on the next billing date, and your website will be downgraded to Basic."})}},{key:"doChangePlan",value:function(e,t,i,a,n){if(!n)return bmq("select[plan-id="+e+"]").prop("selectedIndex",0),void a(!1);i(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.cancelPlan",{websiteID:t,planID:e}),success:this.onChangePlanSuccess.bind(this,a),error:this.onChangePlanError.bind(this,a)})}},{key:"onChangePlanSuccess",value:function(e){e(!0)}},{key:"onChangePlanError",value:function(e){e(!1),Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"attachWebsiteToPlan",value:function(e,t,i,a,n,o){Global.confirm("You have selected to upgrade "+o+" to "+n+" Plan. (You can change this later if required).",this.doAttachWebsiteToPlan.bind(this,e,t,i,a),{zIndex:6e3,buttonText:"Yes, Upgrade",button2Text:"Do not upgrade"})}},{key:"doAttachWebsiteToPlan",value:function(e,t,i,a,n){n&&(i(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.attachWebsiteToPlan",{websiteID:t,planID:e}),success:this.onAttachSuccess.bind(this,a),error:this.onAttachError.bind(this,a)}))}},{key:"onAttachSuccess",value:function(e,t){e(!0,t)}},{key:"onAttachError",value:function(e){e(!1),Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"attachWebsiteToResellerPlan",value:function(e,t,i,a,n,o){Global.confirm("You have selected to upgrade "+o+" to "+n+" Plan. ",this.doAttachWebsiteToResellerPlan.bind(this,e,t,i,a),{zIndex:6e3,buttonText:"Yes, Upgrade",button2Text:"Do not upgrade"})}},{key:"doAttachWebsiteToResellerPlan",value:function(e,t,i,a,n){n&&(i(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.attachWebsiteToResellerPlan",{websiteID:t,planID:e}),success:this.onAttachResellerSuccess.bind(this,a),error:this.onAttachResellerError.bind(this,a)}))}},{key:"onAttachResellerSuccess",value:function(e,t){e(!0,t)}},{key:"onAttachResellerError",value:function(e){e(!1),Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"upgradeWebsite",value:function(e,t,i){Global.confirm("Are you sure you want to upgrade this website?",this.doUpgradeWebsite.bind(this,e,t,i),{zIndex:6e3})}},{key:"doUpgradeWebsite",value:function(e,t,i,a){a&&(t(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.upgrade",{websiteID:e}),success:this.onUpgradeSuccess.bind(this,i),error:this.onUpgradeError.bind(this,i)}))}},{key:"onUpgradeSuccess",value:function(e){e(!0)}},{key:"onUpgradeError",value:function(e){e(!1),Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"upgradeResellerWebsite",value:function(e,t,i){Global.confirm("Are you sure you want to upgrade this website?",this.doUpgradeResellerWebsite.bind(this,e,t,i),{zIndex:6e3})}},{key:"doUpgradeResellerWebsite",value:function(e,t,i,a){a&&(t(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.setUpgraded",{websiteID:e}),success:this.onUpgradeResellerSuccess.bind(this,i),error:this.onUpgradeResellerError.bind(this,i)}))}},{key:"onUpgradeResellerSuccess",value:function(e){e(!0)}},{key:"onUpgradeResellerError",value:function(e){e(!1),Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"deleteWebsite",value:function(e,t,i){Global.confirm("Are you sure you want to delete this website?",this.doDeleteWebsite.bind(this,e,t,i),{zIndex:6e3})}},{key:"doDeleteWebsite",value:function(e,t,i,a){a&&(t(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.delete",{websiteID:e}),success:this.onDeleteSuccess.bind(this,i),error:this.onDeleteError.bind(this,i)}))}},{key:"onDeleteSuccess",value:function(e){e(!0)}},{key:"onDeleteError",value:function(e,t){e(!1),t&&t.responseJSON&&t.responseJSON.error?Global.alert(t.responseJSON.error,{zIndex:6e3}):Global.alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"exportWebsite",value:function(e,t,i){Global.confirm("Are you sure you want to export this website?",this.doExportWebsite.bind(this,e,t,i),{zIndex:6e3})}},{key:"doExportWebsite",value:function(e,t,i,a){a&&(t(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.export",{websiteID:e}),success:this.onExportSuccess.bind(this,i),error:this.onExportError.bind(this,i)}))}},{key:"onExportSuccess",value:function(e,t){e(!0),window.location=t}},{key:"onExportError",value:function(e){e(!1),alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"duplicateWebsite",value:function(e,t,i,a){var n=jQuery(".bm-inline-templates .bm-duplicate-popup-template").clone();n.find("form").on("submit",this.doClickDuplicateWebsite.bind(this,n,e,i,a)),n.find(".bm-tdw-title").text(t);var o=n.find(".bm-tdw-name");o.val(t);var s=this.getPopup();return s.setContent(n),s.show(),o.select(),!1}},{key:"doClickDuplicateWebsite",value:function(e,t,i,a,n){n.preventDefault(),n.stopPropagation();var o=e.find(".bm-tdw-name").val();return this.doDuplicateWebsite(o,t,i,a),this.getPopup().hide(),!1}},{key:"doDuplicateWebsite",value:function(e,t,i,a){i();var n={websiteID:t};""!=e&&(n.title=e);var o=jsroute.route("api.websites.duplicate",n);return bmq.ajax({type:"POST",url:o,success:this.onDuplicateSuccess.bind(this,a),error:this.onDuplicateError.bind(this,a)}),!1}},{key:"onDuplicateSuccess",value:function(e,t){e(!0,t)}},{key:"onDuplicateError",value:function(e){e(!1),alert("Something went wrong, please try again!",{zIndex:6e3})}},{key:"setEcommWebsite",value:function(e,t,i,a){return t>0?Global.confirm("Only one website per account can support eCommerce. This change will remove eCommerce from the website currently using it and enable eCommerce for this site instead. Do you wish to enable eCommerce on this site?",this.dosetEcommWebsite.bind(this,e,i,a),{zIndex:6e3}):Global.confirm("Do you wish to enable eCommerce on this site?",this.dosetEcommWebsite.bind(this,e,i,a),{zIndex:6e3}),!1}},{key:"dosetEcommWebsite",value:function(e,t,i,a){if(a)return t(),bmq.ajax({type:"POST",url:jsroute.route("api.websites.setEcomm",{websiteID:e}),success:this.onsetEcommSuccess.bind(this,i),error:this.onsetEcommError.bind(this,i)}),bmq(".bm-dialog-wrapper").hide(),!1}},{key:"onsetEcommSuccess",value:function(e){e(!0)}},{key:"onsetEcommError",value:function(e,t){if(t.responseText){var i=JSON.parse(t.responseText);Global.alert(i.error,{hasOverlay:!0})}else Global.alert("Something went wrong, please try again!",{zIndex:6e3});e(!1)}},{key:"requestUpgrade",value:function(e,t,i){bmq.ajax({type:"POST",url:jsroute.route("api.requestWebsiteUpgrade",{websiteID:e}),headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:this.requestUpgradeSuccess.bind(this,i),error:this.requestUpgradeError.bind(this,i)})}},{key:"requestUpgradeSuccess",value:function(e){e(!0)}},{key:"requestUpgradeError",value:function(e,t){e(!1)}},{key:"transferWebsite",value:function(e,t,i,a){var n=jQuery(".bm-inline-templates .bm-transfer-popup-template").clone();n.find("form").on("submit",this.doConfirmTransfer.bind(this,n,e,t,i,a));var o=this.getPopup();return o.setContent(n),o.show(),!1}},{key:"doConfirmTransfer",value:function(e,t,i,a,n){var o=e.find(".bm-tdw-client option:selected").text();null==i&&(i="this website");var s=e.find(".bm-tdw-client").val(),r=jQuery(".bm-inline-templates .bm-transfer-popup-confirm-template").clone();r.find(".bm-transfer-message-from").html(i),r.find(".bm-transfer-message-to").html(o);var l=e.find(".bm-tdw-client option:selected").attr("marketplace-request-id");r.find("form").on("submit",this.doTransferWebsite.bind(this,s,t,l,a,n)),r.find(".bm-pdp-transfer-button-cancel").on("click",this.doHidePopup.bind(this));var u=this.getPopup();return u.setContent(r),u.show(),!1}},{key:"doTransferWebsite",value:function(e,t,i,a,n){if(a(),0==i||void 0===i)var o={websiteID:t,clientID:e},s=jsroute.route("api.websites.transfer",o);else o={websiteID:t,clientID:e,marketplaceRequestID:i},s=jsroute.route("api.websites.transferMarketplace",o);return bmq.ajax({type:"POST",url:s,success:this.onDuplicateSuccess.bind(this,n),error:this.onDuplicateError.bind(this,n)}),!1}},{key:"onTransferSuccess",value:function(e,t){e(!0,t)}},{key:"onTransferError",value:function(e){Global.alert("Something went wrong, please try again!",{zIndex:6e3}),callback(!1)}},{key:"confirmUseExistingDomainPopup",value:function(e,t,i){return Global.confirm("Are you sure you want to make this your website’s domain name? \n\n Click Yes to change your website to this domain name the next time you publish your website.",this.confirmUseExistingDomainPopupResult.bind(this,e,t,i),{buttonText:"Yes",button2Text:"Cancel"}),!1}},{key:"confirmUseExistingDomainPopupResult",value:function(e,t,i,a){a&&this.useExistingDomainPopup(e,t,i)}},{key:"useExistingDomainPopup",value:function(e,t,i){Global.Purchasing.open(a.a.LINK_DOMAIN,{websiteID:e,unlinkedDomain:t,domainType:i,templateThumbnail:"",goTo:"/builder/website/"+e+"?start=4"},{templateThumbnail:"",callback:this.useExistingDomainPopupFinish.bind(this,e)})}},{key:"useExistingDomainPopupFinish",value:function(e){window.location="/builder/website/"+e+"?start=4"}},{key:"changeWebsiteTitle",value:function(e,t,i){e=e;var a=t;return bmq.ajax({url:jsroute.route("api.websites.changeTitle",{websiteID:e}),type:"POST",data:{id:e,title:a},success:this.onChangeWebsiteTitleSuccess.bind(this,i),error:this.onChangeWebsiteTitleError.bind(this,i)}),!1}},{key:"onChangeWebsiteTitleSuccess",value:function(e){e(!0)}},{key:"onChangeWebsiteTitleError",value:function(e){alert("There was problem saving your title, please try again."),e(!1)}},{key:"doHidePopup",value:function(){return n.a.getPopup().hide(),!1}},{key:"getPopup",value:function(){return n.a.getPopup()}}])&&o(t.prototype,i),s&&o(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.a=s},31:function(e,t,i){"use strict";t.a=function(){return window&&window.BMWL}},33:function(e,t,i){"use strict";var a=i(8),n={callbacks:[],loading:!1,loaded:!1,locale:"en_UK",load:function(e){this.loaded?e():(e&&e instanceof Function&&this.callbacks.push(e),this.loading||(this.loading=!0,bmq.ajaxSetup({cache:!0}),this.locale=this.getFacebookLocale(),bmq.getScript("//connect.facebook.net/"+this.locale+"/all.js",this.onLoad.bind(this))))},onLoad:function(){this.loading=!1,this.loaded=!0,FB.init({appId:a.a.Facebook.appID,version:a.a.Facebook.apiVersion,status:!1,cookie:!1});for(var e=0;e<this.callbacks.length;e++)this.callbacks[e]();this.callbacks=[]},loggedIn:!1,exec:function(e,t){this.loggedIn?FB.api(e,this.onExecComplete.bind(this,e,t)):FB.login(this.onLoginComplete.bind(this,e,t),{scope:"manage_pages"})},onExecComplete:function(e,t,i){t(i)},onLoginComplete:function(e,t,i){"connected"===i.status?(this.loggedIn=!0,this.exec(e,t)):t(i)},getFacebookLocale:function(){if("undefined"==typeof i18n)return this.locale;switch(i18n.lang){case"af":return this.locale="af_ZA";case"bn":return this.locale="bn_IN";case"bs":return this.locale="bs_BA";case"ca":return this.locale="ca_ES";case"cs":return this.locale="cs_CZ";case"cy":return this.locale="cy_GB";case"da":return this.locale="da_DK";case"el":return this.locale="el_GR";case"en":return this.locale="en_UK";case"et":return this.locale="et_EE";case"fa":return this.locale="fa_IR";case"fil":return this.locale="tl_PH";case"fj":return this.locale="en_UK";case"ga":return this.locale="ga_IE";case"gu":return this.locale="gu_IN";case"he":return this.locale="he_IL";case"hi":return this.locale="hi_IN";case"ht":return this.locale="fr_FR";case"ja":return this.locale="ja_JP";case"kn":return this.locale="kn_IN";case"ko":return this.locale="ko_KR";case"mi":return this.locale="en_UK";case"mi":return this.locale="ml_IN";case"mr":return this.locale="mr_IN";case"ms":case"ms":return this.locale="ms_MY";case"mww":return this.locale="zh_CN";case"nb":return this.locale="nb_NO";case"otq":return this.locale="en_UK";case"pa":return this.locale="pa_IN";case"pt":return this.locale="pt_BR";case"pt-pt":return this.locale="pt_PT";case"sl":return this.locale="sl_SI";case"sm":return this.locale="en_US";case"sr-Cyrl":case"sr-Latn":return this.locale="sr_RS";case"sv":return this.locale="sv_SE";case"sw":return this.locale="sw_KE";case"ta":return this.locale="ta_IN";case"te":case"te":return this.locale="te_IN";case"tlh-Latn":return this.locale="en_U";case"tlh-Piqd":case"to":case"ty":return this.locale="en_UK";case"uk":return this.locale="uk_UA";case"ur":return this.locale="ur_PK";case"vi":return this.locale="vi_VN";case"yua":return this.locale="en_UK";case"yue":case"zh-Hans":case"zh-Hant":return this.locale="zh_CN";default:return this.locale=i18n.lang+"_"+i18n.lang.toUpperCase()}return"af"==i18n.lang?this.locale="af_ZA":void 0}};t.a=n},35:function(e,t,i){"use strict";var a={loadedElements:[],loading:!1,loaded:!1,isBookmarkFullyLoaded:!1,hasDefferedPassed:!1,load:function(){console.log("Will request loading api"),!this.isBookmarkFullyLoaded||this.loading||this.loaded||(this.loadEcwidApi(),console.log("Loading api"))},loadEcwidApi:function(){window.ecwid_script_defer=!0,this.loading=!0,bmq.ajaxSetup({cache:!0});var e=bmq("*[data-public-store-id]").attr("data-public-store-id");bmq.getScript("https://app.shopsettings.com/script.js?"+e+"&data_platform=code",this.onLoad.bind(this))},onLoad:function(){this.refresh(),window.Ecwid&&window.Ecwid.OnAPILoaded&&window.Ecwid.OnAPILoaded.add(this.apiFullyLoaded.bind(this))},apiFullyLoaded:function(){window.ecwid_script_defer=!1,window.ecwid_dynamic_widgets=!0,this.hasDefferedPassed=!0,this.loading=!1,this.loaded=!0},onBookmarkFullyLoaded:function(){this.loadedElements.length>0&&this.loadEcwidApi(),this.isBookmarkFullyLoaded=!0},addElement:function(e,t){this.loadedElements.push({node:e,instance:t})},refresh:function(){this.cleanElements(),this.refreshNextInitialization(),this.hasDefferedPassed&&(window.ecwid_bodyDone=!1,ecwid_onBodyDone(),Ecwid.init())},cleanElements:function(){for(var e=[],t=0;t<this.loadedElements.length;t++){var i=this.loadedElements[t],a=i.node;bmq.contains(document,a[0])&&(a.empty(),e.push(i))}this.loadedElements=e},refreshNextInitialization:function(){window._xnext_initialization_scripts=[];for(var e=0;e<this.loadedElements.length;e++){var t=this.loadedElements[e].instance.getWidgetInfo();window._xnext_initialization_scripts.push({widgetType:t.widgetId,id:t.elementId,arg:t.arguments})}},getPlanAndStoreId:function(){return{planType:bmq("*[data-user-plan]").attr("data-user-plan"),storeId:bmq("*[data-public-store-id]").attr("data-public-store-id"),ecommerceAddon:bmq("*[data-ecommerce-addon-active]").attr("data-ecommerce-addon-active")}},hasStoreAndBusinessPlan:function(){var e=this.getPlanAndStoreId();return""!=e.storeId&&("business_month"==e.planType||"business_year"==e.planType)||""==e.storeId},hasBusinessPlan:function(){var e=this.getPlanAndStoreId();return"business_month"==e.planType||"business_year"==e.planType},hasEcommerceAddonActive:function(){return"1"==this.getPlanAndStoreId().ecommerceAddon}};t.a=a,bmq("body").on("editorLoaded",a.onBookmarkFullyLoaded.bind(a))},36:function(e,t,i){"use strict";t.a={attributes:["data-hi-applied","contenteditable",".contentDragStartElement",".mce-edit-focus",".mce-content-body",".bm-element-state-hover",".bm-element-state-resize",".bm-element-state-selected","bm-bs-editing",".scrolled",".powrLoaded","data-not-deletable",".bounce",".flash",".pulse",".rubberBand",".shake",".swing",".tada",".wobble",".jello",".bounceIn",".bounceInDown",".bounceInLeft",".bounceInRight",".bounceInUp",".fadeIn",".fadeInDown",".fadeInLeft",".fadeInRight",".fadeInUp",".flipInX",".flipInY",".lightSpeedIn",".rotateIn",".rotateInDownLeft",".rotateInDownRight",".rotateInUpLeft",".rotateInUpRight",".slideInUp",".slideInDown",".slideInLeft",".slideInRight",".zoomIn",".zoomInDown",".zoomInLeft",".zoomInRight",".zoomInUp",".jackInTheBox",".rollIn",".animated",".visible",".bm-force-fiw"],elements:[".bm-ecmn-create-hover",".bm-image-equalizer",".bm-hi-icon",".bm-module-overscreen",".bm-dragging-handle",".bm-module-bin-wrapper",".module-button-holder",".bm-temp-video",".bm-temp-image",".bm-temp-audio",".bm-temp-event",".module-overscreen",".container.measurer",".container-fluid.measurer",".container.default-spacer",".container-fluid.default-spacer",".bm-pinit-overlay",".bm-action-window-manager",".bm-se-top",".bm-se-right",".bm-se-bottom",".bm-se-left",".bm-se-handle",".bm-se-resize-handle",".bm-se-close-handle",".bm-se-copy-handle",".bm-ft-not-pro",".bm-image-resizer",".bm-damper-left",".bm-damper-top",".bm-damper-right",".bm-damper-bottom",".bm-fiw",".bm-nfiw",".bm-toaster",".bm-fiw-handle",".bm-fiw-highlight","grammarly-btn",".Grammar",".gr-top-zero",".Kzi1t","._1BN1N","._2DJZN",".BD-0J","._7_mnr","[data-grammarly-part]",".bm-badge-overlay-wrapper",".bm-stroke-overlay-wrapper"]}},45:function(e,t,i){"use strict";var a=i(35),n=i(0),o=i(2),s=i(14),r=i(8),l=i(16),u=i(18),c=i(33),d=i(7),h={popup:null,prePublishPopup:null,rc:!!bmq("*[data-rc]").attr("data-rc"),publishWithPopup:function(e){this.check14DayUsage()?this.show14DayTrialNotification(e):this.checkEcommUsage(e)},checkEcommUsage:function(e){a.a.hasStoreAndBusinessPlan()||a.a.hasEcommerceAddonActive()||this.rc?this.checkBookingModuleUsage():bmq.ajax({url:jsroute.route("api.websites.checkEcommerceUsage",{websiteID:n.a.getWebsiteID()}),headers:{"X-CSRF-TOKEN":bmq('meta[name="csrf-token"]').attr("content")},type:"POST",dataType:"json",success:this.checkBookingModuleUsage.bind(this),error:this.showBussinessUpgradeNotification.bind(this,e,!1)})},doPublish:function(e){this.showLoading(),bmq.ajax(jsroute.route("api.websites.publish",{websiteID:n.a.getWebsiteID()}),{headers:{"X-CSRF-TOKEN":bmq('meta[name="csrf-token"]').attr("content")},type:"POST",dataType:"json",success:this.onPublishWithPopupSuccess.bind(this,e),error:this.onPublishWithPopupError.bind(this,e)})},getPopup:function(e,t,i){return this[t=null==t?"popup":t]?(this[t].setContent(e),this[t].show(),this.fixOverlayForPopup(this[t],i),this[t]):(this[t]=new s.a(e,{contextualClass:"bm-popup-gradient"}),this.fixOverlayForPopup(this[t],i),this[t])},fixOverlayForPopup:function(e,t){t?(e.hideCloseButton(),e.disabledOverlay()):(e.showCloseButton(),e.enableOverlay())},openFB:function(e,t){FB.ui?FB.ui({method:"feed",link:e,display:"iframe",description:"Check out my website. I created it in a few minutes. - "+e,redirect_uri:r.a.Facebook.redirectUri,picture:n.a.getWebsitePreviewImage(),caption:r.a.Facebook.defaultCaption}):Object(o.b)("There was a problem connection to facebook, please try again",{parent:t})},openShare:function(e,t,i){var a=screen.height/2-i/2,n=screen.width/2-t/2;window.open(e.attr("data-href"),"sharer","top="+a+",left="+n+",toolbar=0,status=0,width="+t+",height="+i)},showLoading:function(){var e=bmq(".bm-publish-success-template").clone();e.removeClass("bm-publish-success-template"),e.removeClass("bm-publish-white").addClass("bm-publish-bg"),e.find(".bm-publish-message").text("Loading");var t=bmq('<div class="bm-publish-loading"></div>');return e.find(".bm-publish-opts").empty().append(t),this.getPopup(e,void 0,!0)},isPublished:function(){return!!this.publishedNow||(bmq("[data-is-published=1]").length>0||void 0)},onPublishWithPopupSuccess:function(e,t){e&&e(!0),this.publishedNow=!0,c.a.load((function(){}));var i=bmq(".bm-publish-success-template").clone();i.removeClass("bm-publish-success-template"),i.find(".customDomain").on("click",this.changeDomainPopup.bind(this)),i.find(".bm-choose-your-plan").on("click",this.chooseYourPlan.bind(this));var a=i.find(".bm-publish-second-link"),o=i.find(".bm-publish-opts-link a"),s="";t.url&&""!=t.url?(s=t.url,o.text(t.url),o.attr("href",t.url),(o=a.find("a")).text(t.subdomainUrl),o.attr("href",t.subdomainUrl),a.hide()):(s=t.subdomainUrl,(o=i.find(".bm-publish-opts-link a")).text(t.subdomainUrl),o.attr("href",t.subdomainUrl),a.hide());i.find(".bm-publish-social").show();var r=n.a.getWebsitePreviewImage();i.find(".bm-publish-opts-share-facebook-new").click(this.openFB.bind(this,s,i));var l=i.find(".bm-publish-opts-share-twitter-new"),u="Check out the #website I've built using @bookmark. Let me know what you think! #buildawebsite",d="https://twitter.com/share?text="+encodeURIComponent(u)+"&url="+encodeURIComponent(s);l.attr("data-href",d),l.click(this.openShare.bind(this,l,583,325));var h=i.find(".bm-publish-opts-share-pinterest-new"),p="https://pinterest.com/pin/create/link/?description="+encodeURIComponent(u)+"&url="+encodeURIComponent(s)+"&media="+r;h.attr("data-href",p),h.click(this.openShare.bind(this,h,583,325));var b=i.find(".bm-publish-opts-share-linkedin-new"),m="https://www.linkedin.com/shareArticle?mini=true&title="+encodeURIComponent("Check out my website. I created it in a few minutes!")+"&summary="+encodeURIComponent("Check out the website I created using Bookmark.com. I would love to hear feedback from all of you. Let me know what you think!")+"&url="+encodeURIComponent(s);b.attr("data-href",m),b.click(this.openShare.bind(this,b,583,325));this.getPopup(i,void 0,!1)},changeDomainPopup:function(){var e=n.a.getTemplateThumbURL(),t=n.a.getWebsiteID();l.a.open(u.a.CHANGE_DOMAIN,{websiteID:t,templateThumbnail:e},{templateThumbnail:e,reload:!0})},chooseYourPlan:function(e){var t=$(e.target).attr("data-url");window.location=t},onPublishWithPopupError:function(e,t){e&&e(!1),this.popup.hide(),t.status&&400==t.status?this.showLimitUpgradeNotification():t.responseJSON&&t.responseJSON.showMessage?d.a.getShared().show(t.responseJSON.showMessage,!0):d.a.getShared().show("An error has occurred.  Your page has not been published. Our tiny working ants have been notified and they already started looking at the problem!",!0,{timeout:6e3})},showBussinessUpgradeNotification:function(e,t){e&&e(!1);var i=bmq(".bm-pre-upgrade-popup-template").clone();i.removeClass("bm-pre-upgrade-popup-template");var a=i.find(".bm-upgrade-shooping-hook"),n=i.find(".bm-shooping-do-publish-hook");a.off("click").on("click",this.onDoUpgradeButton.bind(this)),n.off("click").on("click",this.onDoPublishButton.bind(this)),t&&n.remove();this.getPopup(i,"prePublishPopup")},openUpgradePopup:function(){l.a.getShared().showPackage({textOptions:["E-Commerce"],textOptionsTitle:" Upgrade to Business to get E-Commerce",disabled:"pro",callback:this.publishAfterUpgrade.bind(this)})},publishAfterUpgrade:function(){this.prePublishPopup.hide(),this.doPublish()},onDoPublishButton:function(){this.prePublishPopup.hide(),setTimeout(this.checkBookingModuleUsage.bind(this),10)},onDoUpgradeButton:function(){this.openUpgradePopup()},showLimitUpgradeNotification:function(){var e=bmq(".bm-pre-upgrade-limit-template").clone();e.removeClass("bm-pre-upgrade-limit-template"),e.find(".bm-limit-do-upgrade-hook").off("click").on("click",this.onDoUpgradeButton.bind(this));this.getPopup(e,"prePublishPopup")},check14DayUsage:function(){var e=bmq(".bm-paths-hook"),t=!!e.attr("data-is-in-trial"),i=!!e.attr("data-is-in-2day-trial-option");e.attr("data-is-in-trial-first-period");return t||i},show14DayTrialNotification:function(e){e&&e(!1);var t=bmq(".bm-publish-trial14-template").clone();t.removeClass("bm-publish-trial14-template"),t.find(".bm-trial14-do-publish-hook").off("click").on("click",this.onDoPublishButtonComplete.bind(this));this.getPopup(t,"prePublishPopup")},checkBookingModuleUsage:function(){bmq.ajax({url:jsroute.route("api.websites.checkBookingModuleUsage",{websiteID:n.a.getWebsiteID()}),headers:{"X-CSRF-TOKEN":bmq('meta[name="csrf-token"]').attr("content")},type:"POST",dataType:"json",success:this.doPublish.bind(this),error:this.showBookingUpgradeNotification.bind(this,!1)})},showBookingUpgradeNotification:function(e){var t=bmq(".bm-pre-upgrade-booking-popup-template").clone();t.removeClass("bm-pre-upgrade-booking-popup-template");var i=t.find(".bm-upgrade-bookings-hook"),a=t.find(".bm-bookings-do-publish-hook");i.off("click").on("click",this.onDoUpgradeButton.bind(this)),a.off("click").on("click",this.onDoPublishButtonComplete.bind(this)),e&&a.remove();this.getPopup(t,"prePublishPopup")},onDoPublishButtonComplete:function(){this.prePublishPopup.hide(),this.doPublish()}};t.a=h,window.pubme=h},5:function(e,t,i){"use strict";var a={};window.Global=a,t.a=a},56:function(e,t,i){"use strict";var a=i(14);function n(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,o;return t=e,o=[{key:"doHidePopup",value:function(){return this.getPopup().hide(),!1}},{key:"getPopup",value:function(){return this.popup||(this.popup=new a.a("<div></div>",{contextualClass:"bm-transfer-popup",hideOnLoad:!0})),this.popup}}],(i=null)&&n(t.prototype,i),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.a=o},7:function(e,t,i){"use strict";var a=i(15);function n(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.parent=bmq(t.parent||"body"),this.removeAfterClose=!!t.removeAfterClose,this.element=bmq('<div class="bm-toaster" style="display:none;"></div>'),this.closeButton=bmq('<div class="bm-toaster-close"></div>'),this.contentElement=bmq('<span class="bm-toaster-content"></span>'),t.absolute&&this.element.addClass("bm-toaster-absolute"),this.element.append(this.contentElement),this.element.append(this.closeButton),this.closeButton.on("click",this.onCloseButtonClick.bind(this)),t.prepend?this.parent.append(this.element):this.parent.prepend(this.element)}var t,i,a;return t=e,(i=[{key:"show",value:function(e,t,i){(i=i||{}).timeout=isFinite(i.timeout)?i.timeout:3e3,this.contentElement.text(e),t?this.element.addClass("bm-red-toaster"):this.element.removeClass("bm-red-toaster"),i.hasClose?this.closeButton.show():this.closeButton.hide(),this.element.fadeIn(),i.hasClose||this.element.delay(i.timeout).fadeOut()}},{key:"onCloseButtonClick",value:function(){this.element.fadeOut(),this.removeAfterClose&&setTimeout(2e3,this.removeElement.bind(this))}},{key:"removeElement",value:function(){this.element.remove()}}])&&n(t.prototype,i),a&&n(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();Object(a.a)(o),t.a=o},72:function(e,t,i){"use strict";var a=i(14),n=(i(75),{messages:["All websites created are stored & can be accessed inside “ My Websites “ menu.","Please wait, AiDA is thinking...","You have a limit of 5 websites created as a free user. Upgrade for unlimited websites."],popup:null,typer:null,particle:null,show:function(){var e=bmq('<div>\n        <picture style="position:absolute; top: 50%; left: 50%; transform: scale(1, 1); opacity: 1;"><source srcset="/assets/v2/images/animations/platonic-glow.webp" type="image/webp"><source srcset="/assets/v2/images/animations/platonic-glow.png" type="image/png"><img src="/assets/v2/images/animations/platonic-glow.png" style="transform: translate(-50%, -50%);"></picture>\n        </div>');this.popup=new a.a(e,{hideCloseButton:!0,contextualClass:"bm-wai-popup bm-wai-thinking3",hidesOnOverlay:!1,closesByDefault:!0})},hide:function(){this.popup.close(),this.popup=null,this.onClose&&this.onClose()}});t.a=n},75:function(e,t,i){"use strict";function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}i.d(t,"a",(function(){return n}));var n=function(){function e(t,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.toRotate=i,this.el=bmq(t),this.loopNum=0,this.period=parseInt(a,10)||2e3,this.txt="",this.isDeleting=!1}var t,i,n;return t=e,(i=[{key:"tick",value:function(){var e=this.loopNum%this.toRotate.length,t=this.toRotate[e];this.isDeleting?this.txt=t.substring(0,this.txt.length-1):this.txt=t.substring(0,this.txt.length+1),this.el.text(this.txt);var i=100-50*Math.random();this.isDeleting&&(i/=2),this.isDeleting||this.txt!==t?this.isDeleting&&""===this.txt&&(this.isDeleting=!1,this.loopNum++,i=500):(i=this.period,this.isDeleting=!0),this.lastTimer=setTimeout(this.tick.bind(this),i)}},{key:"start",value:function(){this.tick()}},{key:"stop",value:function(){clearTimeout(this.lastTimer)}}])&&a(t.prototype,i),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},8:function(e,t,i){"use strict";var a=i(36),n={google_recaptcha:"6LcL074UAAAAALLaOHYTWPU79FPQCQja2dOU7Bqh",google_maps_api_key:"AIzaSyDz7pQEW0ipmLI5wuak10U2lYzCEXK2o_0",facebook_api_key:"1656545727892715",facebook_redirect_uri:"https://www.bookmark.com/login/facebook/callback",pixabay_api_key:"2861356-c7b8523becfbf4bfe69d50dc1",aviari_api_key:"1d80cf79b2e4458f8ab30f651c56b008"};t.a={Paths:{builderImages:"/assets/images/builder/",banners:"/assets/images/banners/",builderActionIcons:"/assets/images/builder/actions/",builderModuleIcons:"/assets/images/builder/sidebar/moduleicons/",previewPath:"/preview/",freeImages:"/assets/free_images/",freeVideos:"/assets/free_videos/",focusImages:"/assets/focus_images/",fontSVGs:"/assets/images/fonts/svg/",tuiRoot:"/assets/dist/es/_vendor/tui/",home:"/"},Facebook:{appID:n.facebook_api_key,defaultCaption:"Make your mark, Bookmark!",redirectUri:n.facebook_redirect_uri,apiVersion:"v5.10"},Aviary:{apiKey:n.aviari_api_key},Google:{recaptcha:n.google_recaptcha},GoogleMaps:{apiKey:n.google_maps_api_key},EventModule:{dateInputFormat:"MM/DD/YYYY HH:mm",dateOutputFormat:"ddd, MMM D YYYY h:mm A"},Pixabay:{apiKey:n.pixabay_api_key,url:"https://pixabay.com/api/"},Removables:a.a}}});